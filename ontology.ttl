@prefix js: <https://w3id.org/conn/js#> .
@prefix fno: <https://w3id.org/function/ontology#> .
@prefix fnom: <https://w3id.org/function/vocabulary/mapping#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix : <https://w3id.org/conn#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix dc: <http://purl.org/dc/terms/>.

:JsReaderChannel rdfs:subClassOf :ReaderChannel.
:JsWriterChannel rdfs:subClassOf :WriterChannel.

:JsChannel a :Channel;
  dc:title "Javascript in memory channel";
  dc:description "Channel only used by the JsRunner, enabling fast in memory communication.";
    :reader :JsReaderChannel;
    :writer :JsWriterChannel.

js:JsProcess a :ProcessClass;
  dc:title "Javascript Runner";
  dc:description "The JSRunner is one of the most feature rich runners of the connector architecture. It enables lifting javascript functions to connector architecture components. It allows for fast in memory communication between these processors with the js:JsChannel. More information can be found at https://the-connector-architecture.github.io/site/.";
  :supportsChannel :WsChannel, :JsChannel, :FileChannel, :KafkaChannel, :HttpChannel.

js:JsProcessorShape a sh:NodeShape; 
  sh:targetClass js:JsProcess;
  sh:property [
    sh:dataType xsd:string;
    sh:path js:file;
    sh:name "Path to main main entry point"
  ], [
    sh:dataType xsd:iri; #  Not correct
    sh:path js:location;
    sh:name "Location to root of JS program"
  ], [
    sh:dataType xsd:string;
    sh:path js:function;
    sh:name "Name of the JS function to execute"
  ], [
    sh:class fno:Mapping;
    sh:path js:mapping;
    sh:name "Mapping for the function arguments"
  ].

